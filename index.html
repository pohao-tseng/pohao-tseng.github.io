<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PO-HAO TSENG | 意義場</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <style>
        /* --- 基礎設定 --- */
        :root {
            --bg-color: #0d0d0d; /* 極深灰，非全黑 */
            --text-color: #e0e0e0;
            --accent-color: #888;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden; /* 禁止捲動，打造沈浸感 */
            background-color: var(--bg-color);
            font-family: 'Courier New', Courier, monospace; /* 等寬字體呈現運算感 */
            color: var(--text-color);
        }

        /* --- 3D 背景畫布 --- */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.8;
        }

        /* --- UI 層級 --- */
        #ui-layer {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            pointer-events: none; /* 讓滑鼠穿透 UI 操作 3D */
        }

        /* 允許點擊的元素 */
        .interactive {
            pointer-events: auto;
        }

        /* --- 進入頁面 (Landing) --- */
        #landing-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(13, 13, 13, 0.6); /* 微微遮罩 */
            transition: opacity 1s ease;
        }

        h1 {
            font-weight: 300;
            letter-spacing: 5px;
            font-size: 1.5rem;
            margin-bottom: 2rem;
            text-transform: uppercase;
        }

        #enter-btn {
            background: transparent;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            padding: 15px 40px;
            font-family: inherit;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 2px;
        }

        #enter-btn:hover {
            background: var(--text-color);
            color: var(--bg-color);
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
        }

        /* --- 導覽列 --- */
        nav {
            position: absolute;
            top: 30px;
            right: 40px;
            display: flex;
            gap: 30px;
            opacity: 0; /* 初始隱藏 */
            transform: translateY(-20px);
            transition: opacity 1s ease, transform 1s ease;
        }

        .nav-link {
            text-decoration: none;
            color: var(--accent-color);
            font-size: 0.9rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--text-color);
            text-decoration: line-through; /* 刪除線風格，呼應解構 */
        }

        /* --- 內容區域 --- */
        .content-section {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 800px;
            height: 70vh;
            display: none; /* 初始不顯示 */
            opacity: 0;
            overflow-y: auto; /* 內容過長可捲動 */
            padding: 20px;
            /* 卷軸美化 */
            scrollbar-width: thin;
            scrollbar-color: #555 transparent;
        }

        .content-section.active {
            display: block;
        }

        .text-block {
            background: rgba(0, 0, 0, 0.7); /* 增加文字可讀性 */
            padding: 30px;
            border-left: 1px solid var(--text-color);
            line-height: 1.8;
            font-size: 0.95rem;
            margin-bottom: 50px;
        }

        h2 {
            font-size: 1.2rem;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* --- 手機版適配 --- */
        @media (max-width: 768px) {
            nav {
                top: auto;
                bottom: 20px;
                right: 0;
                width: 100%;
                justify-content: center;
                background: rgba(0,0,0,0.8);
                padding: 15px 0;
            }
            .content-section {
                width: 90%;
                height: 60vh;
            }
        }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div id="ui-layer">
        
        <div id="landing-screen" class="interactive">
            <h1>PO-HAO TSENG</h1>
            <button id="enter-btn">ENTER MEANING FIELD</button>
            <p style="font-size: 0.7rem; margin-top: 20px; color: #666;">建議配戴耳機體驗</p>
        </div>

        <nav id="main-nav" class="interactive">
            <a class="nav-link" onclick="navigateTo('about')">ABOUT</a>
            <a class="nav-link" onclick="navigateTo('experiences')">EXPERIENCES</a>
            <a class="nav-link" onclick="navigateTo('gallery')">GALLERY</a>
        </nav>

        <div id="about" class="content-section interactive">
            <div class="text-block">
                <h2>關於 / Introduction</h2>
                <p>《意義場行動表演法》是一個持續生成的過程。</p>
                <br>
                <p>此方法將角色、語言、空間、物件、時間與觀者視為同時運作的意義場（field of meaning），表演行動並非再現既有內容，而是在多重脈絡交會中即時生成可被感知的關係結構。</p>
                <br>
                <p>演員的任務不在於「理解角色」，而在於辨認、延續或偏移這些交會所形成的路徑。</p>
            </div>
            <div class="text-block">
                <h2>近期演出 / Recent Works</h2>
                <p>2026 - 未命名的結構測試 [台北]</p>
                <p>2025 - 湧現的邊界 [台南藝術節]</p>
            </div>
        </div>

        <div id="experiences" class="content-section interactive">
            <div class="text-block">
                <h2>經歷 / Experiences</h2>
                <p>2023 | 駐村藝術家, 巴黎西帖國際藝術村</p>
                <p>2022 | 導演, 《虛構的重力》</p>
                <p>2020 | 表演者, 台北雙年展</p>
                <br>
                <p>（此處為範例內容，請填入您的詳細年表）</p>
            </div>
        </div>

        <div id="gallery" class="content-section interactive">
            <div class="text-block">
                <h2>作品集 / Gallery</h2>
                <p>影像載入中...</p>
                <p>（這裡將設計為瀑布流或橫向捲動的圖片展示區）</p>
            </div>
        </div>

    </div>

    <audio id="bg-music" loop>
        <source src="bgm.mp3" type="audio/mpeg">
    </audio>

    <script>
        // --- 變數宣告 ---
        let scene, camera, renderer, particles, particleSystem;
        let isEntered = false;
        let mouseX = 0, mouseY = 0;
        
        // --- 初始化 Three.js 場景 ---
        function init() {
            const container = document.getElementById('canvas-container');
            
            // 1. 場景
            scene = new THREE.Scene();
            // 添加一點迷霧效果讓粒子在遠處淡出
            scene.fog = new THREE.FogExp2(0x0d0d0d, 0.002);

            // 2. 相機
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 100;

            // 3. 渲染器
            renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);

            // 4. 創建粒子 (幾何霧)
            createParticles();

            // 5. 事件監聽
            window.addEventListener('resize', onWindowResize, false);
            document.addEventListener('mousemove', onDocumentMouseMove, false);

            // 6. 開始動畫迴圈
            animate();
        }

        // --- 創建粒子系統 ---
        function createParticles() {
            const geometry = new THREE.BufferGeometry();
            const count = 3000; // 粒子數量
            const positions = [];
            
            for (let i = 0; i < count; i++) {
                // 在一個立方體空間內隨機分佈
                const x = (Math.random() - 0.5) * 400;
                const y = (Math.random() - 0.5) * 400;
                const z = (Math.random() - 0.5) * 400;
                positions.push(x, y, z);
            }

            geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));

            // 粒子材質
            const material = new THREE.PointsMaterial({
                color: 0xaaaaaa,
                size: 1.5,
                transparent: true,
                opacity: 0.6,
                sizeAttenuation: true
            });

            particleSystem = new THREE.Points(geometry, material);
            scene.add(particleSystem);
        }

        // --- 動畫迴圈 ---
        function animate() {
            requestAnimationFrame(animate);

            // 粒子自身的緩慢旋轉 (湧現感)
            if(particleSystem) {
                particleSystem.rotation.y += 0.001;
                particleSystem.rotation.x += 0.0005;

                // 根據滑鼠位置產生微幅偏移 (互動張力)
                particleSystem.rotation.x += (mouseY * 0.0001);
                particleSystem.rotation.y += (mouseX * 0.0001);
            }

            renderer.render(scene, camera);
        }

        // --- 互動邏輯 ---
        
        // 點擊 ENTER
        document.getElementById('enter-btn').addEventListener('click', () => {
            // 播放音樂
            const audio = document.getElementById('bg-music');
            audio.volume = 0.5;
            audio.play().catch(e => console.log("Audio play failed", e));

            // 動畫：淡出 Landing，淡入導覽列
            gsap.to('#landing-screen', { duration: 1.5, opacity: 0, pointerEvents: 'none', display: 'none' });
            gsap.to('nav', { duration: 1.5, opacity: 1, y: 0, delay: 0.5 });

            // 3D 動畫：相機推進，彷彿進入迷霧
            gsap.to(camera.position, { duration: 3, z: 60, ease: "power2.inOut" });
            
            // 粒子加速旋轉一下
            gsap.to(particleSystem.rotation, { duration: 2, y: "+=1", ease: "power2.out" });

            isEntered = true;
        });

        // 頁面導航
        window.navigateTo = function(sectionId) {
            // 隱藏所有內容
            document.querySelectorAll('.content-section').forEach(el => {
                gsap.to(el, { duration: 0.5, opacity: 0, display: 'none' });
            });

            // 移除所有 Nav Active 狀態
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));

            // 3D 效果：散開迷霧 (粒子擴散)
            // 我們透過改變相機位置來模擬「穿過」或「退後」的感覺，讓空間留白
            gsap.to(camera.position, { 
                duration: 1.5, 
                z: 120, // 拉遠，讓粒子變成背景牆
                y: 20,  // 稍微移動視角
                ease: "power2.inOut" 
            });

            // 顯示目標內容
            const target = document.getElementById(sectionId);
            if(target) {
                gsap.to(target, { 
                    duration: 1, 
                    display: 'block', 
                    opacity: 1, 
                    delay: 0.8 // 等霧散開一點再顯示字
                });
                
                // 標記當前選單
                const activeLink = Array.from(document.querySelectorAll('.nav-link'))
                    .find(el => el.getAttribute('onclick').includes(sectionId));
                if(activeLink) activeLink.classList.add('active');
            }
        };

        // 滑鼠監聽
        function onDocumentMouseMove(event) {
            mouseX = (event.clientX - window.innerWidth / 2) * 0.05;
            mouseY = (event.clientY - window.innerHeight / 2) * 0.05;
        }

        // 視窗調整
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // 啟動
        init();

    </script>
</body>
</html>
